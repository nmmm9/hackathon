<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎåÄÎèôÏó¨ÏßÄÎèÑ - ÏßÄÏó≠ÌôîÌèê ÌÜµÌï© ÏÑúÎπÑÏä§</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 390px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* ÌôîÎ©¥ Ï†ÑÌôò Ïä§ÌÉÄÏùº */
        .screen {
            display: none;
            min-height: calc(100vh - 70px);
            padding-bottom: 70px;
        }

        .screen.active {
            display: block;
        }

        /* Ìó§Îçî */
        .header {
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            color: white;
            padding: 20px 20px 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 20px;
            font-weight: 700;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            overflow: hidden;
        }

        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .notification-btn {
            background: rgba(255,255,255,0.15);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }

        .balance-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .balance-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .balance-actions {
            display: flex;
            gap: 12px;
        }

        .balance-btn {
            flex: 1;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 8px;
            padding: 10px;
            color: white;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .balance-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
        .main-content {
            padding: 20px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }

        .quick-action {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            color: inherit;
        }

        .quick-action:hover {
            border-color: #4A90E2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.15);
        }

        .quick-action-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border-radius: 12px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        .quick-action-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .quick-action-desc {
            font-size: 12px;
            color: #6c757d;
        }

        /* AI Ï±óÎ¥á ÏÑπÏÖò */
        .ai-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 30px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .ai-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .ai-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .ai-icon {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-title {
            font-size: 18px;
            font-weight: 600;
        }

        .ai-subtitle {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .ai-input-container {
            position: relative;
            z-index: 1;
        }

        .ai-input {
            width: 100%;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            padding: 12px 50px 12px 20px;
            color: white;
            font-size: 14px;
            outline: none;
        }

        .ai-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .ai-send-btn {
            position: absolute;
            right: 6px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }

        /* ÏßÄÏó≠ÌôîÌèê ÌòÑÌô© */
        .local-currency-section {
            margin-bottom: 30px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: #212529;
        }

        .view-all-btn {
            font-size: 14px;
            color: #4A90E2;
            text-decoration: none;
            font-weight: 500;
        }

        .currency-cards {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .currency-card {
            flex: 0 0 280px;
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid #f1f3f4;
        }

        .currency-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }

        .currency-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 10px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .currency-info h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .currency-info p {
            font-size: 12px;
            color: #6c757d;
        }

        .currency-balance {
            font-size: 24px;
            font-weight: 700;
            color: #212529;
            margin-bottom: 8px;
        }

        .currency-change {
            font-size: 12px;
            color: #28a745;
        }

        /* ÎØ∏ÏÖò & Î¶¨ÏõåÎìú */
        .mission-section {
            margin-bottom: 30px;
        }

        .mission-card {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            border-radius: 16px;
            padding: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .mission-card::after {
            content: 'üéØ';
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 30px;
            opacity: 0.3;
        }

        .mission-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .mission-desc {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 16px;
        }

        .mission-progress {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 12px;
            overflow: hidden;
        }

        .mission-progress-fill {
            background: white;
            height: 100%;
            width: 60%;
            border-radius: 10px;
        }

        .mission-reward {
            font-size: 14px;
            font-weight: 500;
        }

        /* ÏµúÍ∑º ÌôúÎèô */
        .recent-activity-section {
            margin-bottom: 80px;
        }

        .activity-list {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid #f1f3f4;
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid #f8f9fa;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 44px;
            height: 44px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .activity-desc {
            font-size: 13px;
            color: #6c757d;
        }

        .activity-amount {
            font-size: 16px;
            font-weight: 600;
            color: #212529;
        }

        /* ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 390px;
            background: white;
            border-top: 1px solid #e9ecef;
            padding: 10px 0;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #6c757d;
            font-size: 12px;
            padding: 8px 12px;
            transition: color 0.2s;
        }

        .nav-item.active {
            color: #4A90E2;
        }

        .nav-item:hover {
            color: #4A90E2;
        }

        .nav-icon {
            font-size: 22px;
            margin-bottom: 4px;
        }

        /* AI Ï§ëÏïô Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        .ai-nav-item {
            position: relative;
            transform: translateY(-10px);
        }

        .ai-nav-btn {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 16px rgba(74, 144, 226, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s;
            border: 3px solid white;
        }

        .ai-nav-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.6);
        }

        .ai-nav-item .nav-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #6c757d;
            white-space: nowrap;
        }

        /* ÌîåÎ°úÌåÖ QR Î≤ÑÌäº */
        .floating-qr-container {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .floating-qr-btn {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 3px solid white;
        }

        .floating-qr-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .floating-qr-btn:hover::before {
            transform: translateX(100%);
        }

        .floating-qr-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 24px rgba(255, 107, 107, 0.4);
        }

        .floating-qr-btn:active {
            transform: scale(0.95);
        }

        .qr-tooltip {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 8px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            pointer-events: none;
            white-space: nowrap;
        }

        .floating-qr-container:hover .qr-tooltip {
            opacity: 1;
            transform: translateY(0);
        }

        /* Î∞òÏùëÌòï - Î™®Î∞îÏùºÏóêÏÑú QR Î≤ÑÌäº ÏúÑÏπò Ï°∞Ï†ï */
        @media (max-width: 480px) {
            .floating-qr-container {
                bottom: 90px;
                right: 16px;
            }
            
            .floating-qr-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
            }
        }

        /* QR Ïä§Ï∫î ÌôîÎ©¥ Ï†ÑÏö© Ïä§ÌÉÄÏùº */
        .qr-scanner-container {
            background: #000;
            border-radius: 20px;
            margin: 20px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .scanner-overlay {
            position: absolute;
            width: 200px;
            height: 200px;
            border: 2px solid #4A90E2;
            border-radius: 16px;
            background: transparent;
        }

        .scanner-corners {
            position: absolute;
            width: 30px;
            height: 30px;
        }

        .scanner-corners::before,
        .scanner-corners::after {
            content: '';
            position: absolute;
            width: 15px;
            height: 3px;
            background: #4A90E2;
        }

        .scanner-corners::before {
            top: 0;
            left: 0;
        }

        .scanner-corners::after {
            bottom: 0;
            right: 0;
        }

        .scanner-corners.top-left {
            top: -15px;
            left: -15px;
        }

        .scanner-corners.top-right {
            top: -15px;
            right: -15px;
            transform: rotate(90deg);
        }

        .scanner-corners.bottom-left {
            bottom: -15px;
            left: -15px;
            transform: rotate(-90deg);
        }

        .scanner-corners.bottom-right {
            bottom: -15px;
            right: -15px;
            transform: rotate(180deg);
        }

        .scanner-line {
            position: absolute;
            width: 180px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #4A90E2, transparent);
            animation: scanLine 2s linear infinite;
        }

        @keyframes scanLine {
            0% { top: 10px; }
            100% { top: 180px; }
        }

        .payment-section {
            background: white;
            border-radius: 20px 20px 0 0;
            margin-top: 20px;
            padding: 24px;
        }

        .payment-amount {
            text-align: center;
            margin-bottom: 24px;
        }

        .amount-input {
            font-size: 32px;
            font-weight: 700;
            text-align: center;
            border: none;
            outline: none;
            color: #212529;
            background: transparent;
            width: 100%;
            margin-bottom: 8px;
        }

        .currency-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .currency-option {
            flex: 0 0 auto;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .currency-option.selected {
            border-color: #4A90E2;
            background: rgba(74, 144, 226, 0.1);
        }

        .currency-option-logo {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 700;
        }

        .pay-button {
            width: 100%;
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pay-button:hover {
            background: #357ABD;
            transform: translateY(-1px);
        }

        .pay-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .quick-amount-btn {
            flex: 1;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            color: #495057;
        }

        .quick-amount-btn:hover {
            border-color: #4A90E2;
            color: #4A90E2;
        }

        /* Ïó¨Ìñâ ÏßÄÎèÑ Ïä§ÌÉÄÏùº */
        .travel-map-container {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .travel-map {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .region-area {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s;
            pointer-events: all;
            border-radius: 8px;
        }

        .region-area:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        .region-area.unlocked {
            background: rgba(74, 144, 226, 0.3);
            border: 2px solid #4A90E2;
        }

        .region-area.colored {
            background: rgba(40, 167, 69, 0.6);
            border: 2px solid #28a745;
        }

        .region-area.locked {
            background: rgba(108, 117, 125, 0.2);
            border: 2px dashed #6c757d;
            cursor: not-allowed;
        }

        .region-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.9);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            color: #212529;
            white-space: nowrap;
            pointer-events: none;
        }

        .progress-stats {
            display: flex;
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-item {
            flex: 1;
            background: white;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid #f1f3f4;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: #4A90E2;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: #6c757d;
        }

        /* Ïó¨Ìñâ Í∏∞Î°ù Ïä§ÌÉÄÏùº */
        .travel-record {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid #f1f3f4;
            position: relative;
        }

        .travel-record.featured {
            border-left: 4px solid #4A90E2;
            background: linear-gradient(90deg, rgba(74, 144, 226, 0.05) 0%, white 10%);
        }

        .record-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .record-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border-radius: 12px;
            margin-right: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .record-info h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .record-info p {
            font-size: 14px;
            color: #6c757d;
        }

        .record-content {
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .record-images {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .record-image {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .record-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .record-tag {
            background: rgba(74, 144, 226, 0.1);
            color: #4A90E2;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }

        .unlock-condition {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .unlock-condition h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #e17055;
        }

        .unlock-condition p {
            font-size: 14px;
            color: #d63031;
        }

        .condition-progress {
            background: rgba(255,255,255,0.5);
            border-radius: 8px;
            height: 8px;
            margin-top: 12px;
            overflow: hidden;
        }

        .condition-progress-fill {
            background: #00b894;
            height: 100%;
            border-radius: 8px;
            transition: width 0.3s;
        }

        /* ÏÉâÏπ†ÌïòÍ∏∞ Î™®Îã¨ */
        .paint-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .paint-modal-content {
            background: white;
            border-radius: 20px;
            padding: 24px;
            width: 90%;
            max-width: 350px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .paint-modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .paint-modal-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border-radius: 50%;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 36px;
        }

        .record-form {
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #212529;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            border-color: #4A90E2;
        }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        .photo-upload {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .photo-placeholder {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .photo-placeholder:hover {
            border-color: #4A90E2;
            background: rgba(74, 144, 226, 0.05);
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .modal-btn-primary {
            background: #4A90E2;
            color: white;
        }

        .modal-btn-primary:hover {
            background: #357ABD;
        }

        .modal-btn-secondary {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }

        .modal-btn-secondary:hover {
            background: #e9ecef;
        }

        /* Î∞òÏùëÌòï */
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
        }

        /* ÏÉàÎ°úÏö¥ Ïª¥Ìè¨ÎÑåÌä∏ Ïä§ÌÉÄÏùº */
        .search-section {
            margin-bottom: 20px;
        }

        .search-container {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            border-color: #4A90E2;
        }

        .search-btn {
            padding: 12px;
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-btn:hover {
            background: #357ABD;
        }

        .filter-tabs {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .filter-tab {
            padding: 8px 16px;
            background: #f8f9fa;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-tab.active {
            background: #4A90E2;
            color: white;
        }

        .filter-tab:hover:not(.active) {
            background: #e9ecef;
        }

        .kakao-map-container {
            margin-bottom: 20px;
        }

        .map-placeholder {
            width: 100%;
            height: 200px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .map-placeholder-content {
            text-align: center;
        }

        .merchant-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .merchant-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: white;
            border-radius: 12px;
            border: 1px solid #f1f3f4;
            transition: all 0.2s;
        }

        .merchant-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-color: #4A90E2;
        }

        .merchant-icon {
            width: 48px;
            height: 48px;
            background: #f8f9fa;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .merchant-info {
            flex: 1;
        }

        .merchant-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .merchant-desc {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 8px;
        }

        .merchant-tags {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 2px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 12px;
        }

        .merchant-distance {
            font-size: 14px;
            color: #4A90E2;
            font-weight: 600;
        }

        .recommended-list {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .recommended-item {
            min-width: 120px;
            text-align: center;
        }

        .recommended-image {
            width: 80px;
            height: 80px;
            background: #f8f9fa;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin: 0 auto 8px;
        }

        .recommended-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .recommended-rating {
            font-size: 12px;
            color: #6c757d;
        }

        .quick-question-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-question-btn:hover {
            background: #4A90E2;
            color: white;
            border-color: #4A90E2;
        }

        .visit-btn {
            padding: 4px 8px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 10px;
            cursor: pointer;
            margin-top: 4px;
        }

        .visit-btn:hover {
            background: #218838;
        }

        .chat-item {
            position: relative;
        }

        .chat-item[data-status="visited"] {
            border-left: 4px solid #28a745;
        }

        .chat-item[data-status="pending"] {
            border-left: 4px solid #ffc107;
        }

        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-up {
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        /* Î™®Îã¨ Ïä§ÌÉÄÏùº */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            width: 90%;
            max-width: 320px;
            text-align: center;
        }

        .modal-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border-radius: 50%;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .modal-desc {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 20px;
        }

        .modal-btn {
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
        }

        /* ÏÉàÎ°úÏö¥ Ï±óÎ¥á ÌôîÎ©¥ Ïä§ÌÉÄÏùº */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            background: #f8f9fa;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            max-height: calc(100vh - 300px);
        }

        .chat-message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .chat-message.user-message {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .message-content {
            max-width: 70%;
            background: white;
            border-radius: 18px;
            padding: 12px 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .user-message .message-content {
            background: #4A90E2;
            color: white;
        }

        .message-text {
            font-size: 15px;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .message-time {
            font-size: 12px;
            color: #999;
            text-align: right;
        }

        .user-message .message-time {
            color: rgba(255,255,255,0.8);
        }

        .message-actions {
            margin-top: 10px;
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 6px 12px;
            font-size: 12px;
            color: #495057;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: #4A90E2;
            color: white;
            border-color: #4A90E2;
        }

        .quick-questions {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 8px;
            overflow-x: auto;
        }

        .quick-btn {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 13px;
            color: #495057;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .quick-btn:hover {
            background: #4A90E2;
            color: white;
            border-color: #4A90E2;
        }

        .chat-input-container {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e9ecef;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 25px;
            padding: 8px 16px;
            border: 1px solid #e9ecef;
        }

        .chat-input {
            flex: 1;
            border: none;
            background: transparent;
            outline: none;
            font-size: 15px;
            padding: 8px 0;
            color: #333;
        }

        .chat-input::placeholder {
            color: #999;
        }

        .send-btn {
            background: #4A90E2;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            margin-left: 8px;
        }

        .send-btn:hover {
            background: #357ABD;
            transform: scale(1.05);
        }

        .send-btn .material-icons {
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ìôà ÌôîÎ©¥ -->
        <div id="home-screen" class="screen active">
            <!-- Ìó§Îçî -->
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        ÎåÄÎèôÏó¨ÏßÄÎèÑ
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="notification-btn" data-screen="my-screen" onclick="switchToMyPage()">
                            <span class="material-icons">person</span>
                        </button>
                        <button class="notification-btn">
                            <span class="material-icons">notifications</span>
                        </button>
                    </div>
                </div>
                
                <div class="balance-card">
                    <div class="balance-label">Ï†ÑÏ≤¥ Î≥¥Ïú† Í∏àÏï°</div>
                    <div class="balance-amount">‚Ç©847,500</div>
                    <div class="balance-actions">
                        <button class="balance-btn">Ï∂©Ï†Ñ</button>
                        <button class="balance-btn">ÏÜ°Í∏à</button>
                        <button class="balance-btn">ÎÇ¥Ïó≠</button>
                    </div>
                </div>
            </header>

            <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
            <main class="main-content">
            <!-- Îπ†Î•∏ Ïï°ÏÖò -->
            <section class="quick-actions">
                <a href="#" class="quick-action">
                    <div class="quick-action-icon">
                        <span class="material-icons">qr_code_scanner</span>
                    </div>
                    <div class="quick-action-title">QR Í≤∞Ï†ú</div>
                    <div class="quick-action-desc">Îß§Ïû•ÏóêÏÑú Í∞ÑÌé∏ Í≤∞Ï†ú</div>
                </a>
                
                <a href="#" class="quick-action">
                    <div class="quick-action-icon">
                        <span class="material-icons">map</span>
                    </div>
                    <div class="quick-action-title">Ï£ºÎ≥Ä Í∞ÄÎßπÏ†ê</div>
                    <div class="quick-action-desc">ÎÇ¥ ÏúÑÏπò Í∏∞Î∞ò Ï∂îÏ≤ú</div>
                </a>
            </section>

            <!-- AI Ï±óÎ¥á ÏÑπÏÖò -->
            <section class="ai-section fade-in">
                <div class="ai-header">
                    <div class="ai-icon">ü§ñ</div>
                    <div>
                        <div class="ai-title">AI Ïó¨Ìñâ Í∞ÄÏù¥Îìú</div>
                    </div>
                </div>
                <div class="ai-subtitle">Ïñ¥ÎîîÎ°ú Ïó¨Ìñâ Í∞ÄÍ≥† Ïã∂ÏúºÏã†Í∞ÄÏöî? ÎßûÏ∂§ Ï∂îÏ≤úÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî!</div>
                <div class="ai-input-container">
                    <input type="text" class="ai-input" id="homeAiInput" placeholder="Ïòà: Ï∂òÏ≤ú Îã≠Í∞àÎπÑ ÎßõÏßë Ï∂îÏ≤úÌï¥Ï§ò" onclick="goToChatBot()" onfocus="goToChatBot()">
                    <button class="ai-send-btn" onclick="goToChatBot()">
                        <span class="material-icons">send</span>
                    </button>
                </div>
            </section>

            <!-- ÏßÄÏó≠ÌôîÌèê ÌòÑÌô© -->
            <section class="local-currency-section">
                <div class="section-header">
                    <h2 class="section-title">Î≥¥Ïú† ÏßÄÏó≠ÌôîÌèê</h2>
                    <a href="#" class="view-all-btn">Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
                </div>
                
                <div class="currency-cards">
                    <div class="currency-card">
                        <div class="currency-header">
                            <div class="currency-logo">ÏÑú</div>
                            <div class="currency-info">
                                <h3>ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å</h3>
                                <p>ÏÑúÏö∏ÌäπÎ≥ÑÏãú</p>
                            </div>
                        </div>
                        <div class="currency-balance">‚Ç©350,000</div>
                        <div class="currency-change">+50,000Ïõê Ï∂©Ï†Ñ</div>
                    </div>
                    
                    <div class="currency-card">
                        <div class="currency-header">
                            <div class="currency-logo">Í≤Ω</div>
                            <div class="currency-info">
                                <h3>Í≤ΩÍ∏∞ÏßÄÏó≠ÌôîÌèê</h3>
                                <p>Í≤ΩÍ∏∞ÎèÑ</p>
                            </div>
                        </div>
                        <div class="currency-balance">‚Ç©275,000</div>
                        <div class="currency-change">+25,000Ïõê Ï†ÅÎ¶Ω</div>
                    </div>
                    
                    <div class="currency-card">
                        <div class="currency-header">
                            <div class="currency-logo">Î∂Ä</div>
                            <div class="currency-info">
                                <h3>Î∂ÄÏÇ∞ÌôîÌèê</h3>
                                <p>Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú</p>
                            </div>
                        </div>
                        <div class="currency-balance">‚Ç©122,500</div>
                        <div class="currency-change">+12,500Ïõê Î¶¨ÏõåÎìú</div>
                    </div>
                </div>
            </section>

            <!-- ÎØ∏ÏÖò & Î¶¨ÏõåÎìú -->
            <section class="mission-section">
                <div class="section-header">
                    <h2 class="section-title">Ïù¥Î≤à Ï£º ÎØ∏ÏÖò</h2>
                </div>
                
                <div class="mission-card">
                    <div class="mission-title">Ï†ÑÍµ≠ Ïó¨Ìñâ Ï±åÎ¶∞ÏßÄ</div>
                    <div class="mission-desc">5Í∞ú ÏßÄÏó≠ Î∞©Î¨∏ÌïòÍ≥† ÏßÄÏó≠ÌôîÌèêÎ°ú Í≤∞Ï†úÌïòÍ∏∞</div>
                    <div class="mission-progress">
                        <div class="mission-progress-fill"></div>
                    </div>
                    <div class="mission-reward">ÏßÑÌñâÎ•† 60% ‚Ä¢ Î¶¨ÏõåÎìú +10,000 Ìè¨Ïù∏Ìä∏</div>
                </div>
            </section>

            <!-- ÏµúÍ∑º ÌôúÎèô -->
            <section class="recent-activity-section">
                <div class="section-header">
                    <h2 class="section-title">ÏµúÍ∑º ÌôúÎèô</h2>
                    <a href="#" class="view-all-btn">Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
                </div>
                
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">üçú</div>
                        <div class="activity-info">
                            <div class="activity-title">Ï∂òÏ≤úÎ™ÖÎèôÎã≠Í∞àÎπÑ</div>
                            <div class="activity-desc">Ï∂òÏ≤úÏÇ¨ÎûëÏÉÅÌíàÍ∂å ‚Ä¢ Ïò§Îäò Ïò§ÌõÑ 2:15</div>
                        </div>
                        <div class="activity-amount">-‚Ç©18,000</div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">‚òï</div>
                        <div class="activity-info">
                            <div class="activity-title">Ïä§ÌÉÄÎ≤ÖÏä§ Î™ÖÎèôÏ†ê</div>
                            <div class="activity-desc">ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å ‚Ä¢ Ïñ¥Ï†ú Ïò§Ï†Ñ 11:30</div>
                        </div>
                        <div class="activity-amount">-‚Ç©8,500</div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">üè™</div>
                        <div class="activity-info">
                            <div class="activity-title">Ïù¥ÎßàÌä∏ ÏàòÏõêÏ†ê</div>
                            <div class="activity-desc">Í≤ΩÍ∏∞ÏßÄÏó≠ÌôîÌèê ‚Ä¢ 2Ïùº Ï†Ñ</div>
                        </div>
                        <div class="activity-amount">-‚Ç©45,600</div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">üéÅ</div>
                        <div class="activity-info">
                            <div class="activity-title">ÎØ∏ÏÖò ÏôÑÎ£å Î¶¨ÏõåÎìú</div>
                            <div class="activity-desc">Ï†ÑÍµ≠ Ïó¨Ìñâ Ï±åÎ¶∞ÏßÄ ‚Ä¢ 3Ïùº Ï†Ñ</div>
                        </div>
                        <div class="activity-amount">+‚Ç©5,000</div>
                    </div>
                </div>
            </section>
            </main>

            <!-- QR Ïä§Ï∫î Î≤ÑÌäº -->
            <button class="qr-scan-btn" onclick="openQRScanner()">
                <span class="material-icons">qr_code_scanner</span>
            </button>
        </div>

        <!-- ÏßÄÍ∞ë ÌôîÎ©¥ -->
        <div id="wallet-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        ÎÇ¥ ÏßÄÍ∞ë
                    </div>
                    <button class="notification-btn">
                        <span class="material-icons">settings</span>
                    </button>
                </div>
                
                <div class="balance-card">
                    <div class="balance-label">Ï†ÑÏ≤¥ Î≥¥Ïú† Í∏àÏï°</div>
                    <div class="balance-amount">‚Ç©847,500</div>
                    <div class="balance-actions">
                        <button class="balance-btn">Ï∂©Ï†Ñ</button>
                        <button class="balance-btn">ÏÜ°Í∏à</button>
                        <button class="balance-btn">ÌôòÏ†Ñ</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <section class="local-currency-section">
                    <div class="section-header">
                        <h2 class="section-title">Î≥¥Ïú† ÏßÄÏó≠ÌôîÌèê</h2>
                        <a href="#" class="view-all-btn">Í¥ÄÎ¶¨</a>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 16px;">
                        <div class="currency-card" style="flex: none;">
                            <div class="currency-header">
                                <div class="currency-logo">ÏÑú</div>
                                <div class="currency-info">
                                    <h3>ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å</h3>
                                    <p>ÏÑúÏö∏ÌäπÎ≥ÑÏãú ‚Ä¢ Ïú†Ìö®Í∏∞Í∞Ñ: 2024.12.31</p>
                                </div>
                            </div>
                            <div class="currency-balance">‚Ç©350,000</div>
                            <div class="currency-change">+50,000Ïõê Ï∂©Ï†Ñ (2024.01.15)</div>
                        </div>
                        
                        <div class="currency-card" style="flex: none;">
                            <div class="currency-header">
                                <div class="currency-logo">Í≤Ω</div>
                                <div class="currency-info">
                                    <h3>Í≤ΩÍ∏∞ÏßÄÏó≠ÌôîÌèê</h3>
                                    <p>Í≤ΩÍ∏∞ÎèÑ ‚Ä¢ Ïú†Ìö®Í∏∞Í∞Ñ: 2024.12.31</p>
                                </div>
                            </div>
                            <div class="currency-balance">‚Ç©275,000</div>
                            <div class="currency-change">+25,000Ïõê Ï†ÅÎ¶Ω (2024.01.14)</div>
                        </div>
                        
                        <div class="currency-card" style="flex: none;">
                            <div class="currency-header">
                                <div class="currency-logo">Î∂Ä</div>
                                <div class="currency-info">
                                    <h3>Î∂ÄÏÇ∞ÌôîÌèê</h3>
                                    <p>Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú ‚Ä¢ Ïú†Ìö®Í∏∞Í∞Ñ: 2024.12.31</p>
                                </div>
                            </div>
                            <div class="currency-balance">‚Ç©122,500</div>
                            <div class="currency-change">+12,500Ïõê Î¶¨ÏõåÎìú (2024.01.13)</div>
                        </div>
                        
                        <div class="currency-card" style="flex: none;">
                            <div class="currency-header">
                                <div class="currency-logo">+</div>
                                <div class="currency-info">
                                    <h3>ÏÉà ÏßÄÏó≠ÌôîÌèê Ï∂îÍ∞Ä</h3>
                                    <p>Ïó¨Ìñâ ÏòàÏ†ï ÏßÄÏó≠Ïùò ÌôîÌèêÎ•º ÎØ∏Î¶¨ Ï§ÄÎπÑÌïòÏÑ∏Ïöî</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- ÏÉàÎ°úÏö¥ AI Ï±óÎ¥á ÌôîÎ©¥ -->
        <div id="ai-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        AI Ï±óÎ¥á
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="notification-btn" data-screen="my-screen" onclick="switchToMyPage()">
                            <span class="material-icons">person</span>
                        </button>
                        <button class="notification-btn" onclick="clearChatHistory()">
                            <span class="material-icons">refresh</span>
                        </button>
                        <button class="notification-btn" onclick="switchScreen('home-screen')">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
            </header>

            <main class="main-content" style="padding: 0; height: calc(100vh - 140px);">
                <!-- Ï±óÎ¥á ÎåÄÌôî ÏòÅÏó≠ -->
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <!-- ÌôòÏòÅ Î©îÏãúÏßÄ -->
                        <div class="chat-message bot-message">
                            <div class="message-avatar">ü§ñ</div>
                            <div class="message-content">
                                <div class="message-text">ÏïàÎÖïÌïòÏÑ∏Ïöî! ÎåÄÎèôÏó¨ÏßÄÎèÑ AI Ïó¨Ìñâ Í∞ÄÏù¥ÎìúÏûÖÎãàÎã§. üó∫Ô∏è<br/>Ïñ¥ÎîîÎ°ú Ïó¨ÌñâÏùÑ Í≥ÑÌöçÌïòÍ≥† Í≥ÑÏã†Í∞ÄÏöî? ÎßõÏßë, Í¥ÄÍ¥ëÏßÄ, ÏàôÏÜå Îì± Î¨¥ÏóáÏù¥Îì† Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî!</div>
                                <div class="message-time">Î∞©Í∏à Ï†Ñ</div>
                            </div>
                        </div>
                        
                        <!-- ÏÉòÌîå ÎåÄÌôî -->
                        <div class="chat-message user-message">
                            <div class="message-content">
                                <div class="message-text">Ï∂òÏ≤ú Îã≠Í∞àÎπÑ ÎßõÏßë Ï∂îÏ≤úÌï¥Ï§ò</div>
                                <div class="message-time">Ïò§ÌõÑ 2:30</div>
                            </div>
                        </div>
                        
                        <div class="chat-message bot-message">
                            <div class="message-avatar">ü§ñ</div>
                            <div class="message-content">
                                <div class="message-text">Ï∂òÏ≤ú Îã≠Í∞àÎπÑ ÎßõÏßëÏùÑ Ï∂îÏ≤úÌï¥ÎìúÎ¶¥Í≤åÏöî! üçó<br/><br/>
                                    <strong>1. Ï∂òÏ≤úÎ™ÖÎèôÎã≠Í∞àÎπÑ</strong><br/>
                                    üìç Ï∂òÏ≤úÏãú Î™ÖÎèôÍ∏∏ 15<br/>
                                    ‚≠ê 4.5/5 | Ï∂òÏ≤úÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©Í∞ÄÎä•<br/><br/>
                                    
                                    <strong>2. ÏàØÎ∂àÎã≠Í∞àÎπÑ</strong><br/>
                                    üìç Ï∂òÏ≤úÏãú Ï§ëÏïôÎ°ú 89<br/>
                                    ‚≠ê 4.3/5 | Ìï†Ïù∏ 10% Ï†ÅÏö©<br/><br/>
                                    
                                    Ïù¥ Í≥≥Îì§ÏùÑ Î∞©Î¨∏ÌïòÏãúÎ©¥ Ìè¨Ïù∏Ìä∏ÎèÑ Ï†ÅÎ¶ΩÎê©ÎãàÎã§! üéÅ
                                </div>
                                <div class="message-time">Ïò§ÌõÑ 2:31</div>
                                <div class="message-actions">
                                    <button class="action-btn" onclick="visitPlace('chuncheon')">Î∞©Î¨∏ Ïù∏Ï¶ù</button>
                                    <button class="action-btn" onclick="shareRecommendation()">Í≥µÏú†ÌïòÍ∏∞</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Îπ†Î•∏ ÏßàÎ¨∏ Î≤ÑÌäºÎì§ -->
                    <div class="quick-questions">
                        <button class="quick-btn" onclick="sendQuickMessage('ÏÑúÏö∏ ÎßõÏßë Ï∂îÏ≤ú')">ÏÑúÏö∏ ÎßõÏßë</button>
                        <button class="quick-btn" onclick="sendQuickMessage('Î∂ÄÏÇ∞ Í¥ÄÍ¥ëÏßÄ')">Î∂ÄÏÇ∞ Í¥ÄÍ¥ë</button>
                        <button class="quick-btn" onclick="sendQuickMessage('Ï†úÏ£ºÎèÑ Ïó¨ÌñâÏΩîÏä§')">Ï†úÏ£ºÎèÑ</button>
                        <button class="quick-btn" onclick="sendQuickMessage('Í∞ïÏõêÎèÑ ÎßõÏßë')">Í∞ïÏõêÎèÑ</button>
                    </div>
                    
                    <!-- Î©îÏãúÏßÄ ÏûÖÎ†• ÏòÅÏó≠ -->
                    <div class="chat-input-container">
                        <div class="input-wrapper">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Ïó¨ÌñâÏßÄ, ÎßõÏßë, Í¥ÄÍ¥ëÏßÄ Îì±ÏùÑ Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî...">
                            <button class="send-btn" onclick="sendMessage()">
                                <span class="material-icons">send</span>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Í∞ÄÎßπÏ†ê ÏßÄÎèÑ ÌôîÎ©¥ -->
        <div id="map-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        Í∞ÄÎßπÏ†ê ÏßÄÎèÑ
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="notification-btn" data-screen="my-screen" onclick="switchToMyPage()">
                            <span class="material-icons">person</span>
                        </button>
                        <button class="notification-btn" onclick="toggleMapFilter()">
                            <span class="material-icons">filter_list</span>
                        </button>
                    </div>
                </div>
                
                <div class="balance-card">
                    <div class="balance-label">ÎÇ¥ Ï£ºÎ≥Ä Í∞ÄÎßπÏ†ê</div>
                    <div class="balance-amount">127Í∞ú</div>
                    <div class="balance-actions">
                        <button class="balance-btn">ÎßõÏßë</button>
                        <button class="balance-btn">Ïπ¥Ìéò</button>
                        <button class="balance-btn">ÏáºÌïë</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ -->
                <section class="search-section">
                    <div class="search-container">
                        <input type="text" class="search-input" placeholder="Í∞ÄÎßπÏ†ê Ïù¥Î¶Ñ, ÏóÖÏ¢Ö Í≤ÄÏÉâ...">
                        <button class="search-btn">
                            <span class="material-icons">search</span>
                        </button>
                    </div>
                    
                    <div class="filter-tabs">
                        <button class="filter-tab active">Ï†ÑÏ≤¥</button>
                        <button class="filter-tab">ÎßõÏßë</button>
                        <button class="filter-tab">Ïπ¥Ìéò</button>
                        <button class="filter-tab">ÏáºÌïë</button>
                        <button class="filter-tab">Ìé∏ÏùòÏ†ê</button>
                    </div>
                </section>

                <!-- ÏßÄÎèÑ ÏòÅÏó≠ -->
                <section class="map-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h2 class="section-title">ÎÇ¥ ÏúÑÏπò Ï£ºÎ≥Ä</h2>
                        <div style="font-size: 12px; color: #666;">
                            üìç ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïó≠ÏÇºÎèô
                        </div>
                    </div>
                    
                    <div class="kakao-map-container">
                        <div class="map-placeholder">
                            <div class="map-placeholder-content">
                                <span class="material-icons" style="font-size: 48px; color: #ccc;">map</span>
                                <p style="color: #999; margin: 10px 0;">Ïπ¥Ïπ¥Ïò§Îßµ API Ïó∞Îèô ÏòàÏ†ï</p>
                                <p style="color: #666; font-size: 12px;">ÌòÑÏû¨Îäî Î™©ÏóÖ Í∞ÄÎßπÏ†ê Î¶¨Ïä§Ìä∏Î•º ÌëúÏãúÌï©ÎãàÎã§</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Ï£ºÎ≥Ä Í∞ÄÎßπÏ†ê Î¶¨Ïä§Ìä∏ -->
                <section class="merchant-section">
                    <div class="section-header">
                        <h2 class="section-title">Ï£ºÎ≥Ä Í∞ÄÎßπÏ†ê</h2>
                        <a href="#" class="view-all-btn">ÏßÄÎèÑÎ≥¥Í∏∞</a>
                    </div>
                    
                    <div class="merchant-list">
                        <div class="merchant-item">
                            <div class="merchant-icon">üçó</div>
                            <div class="merchant-info">
                                <div class="merchant-name">Ï∂òÏ≤úÎã≠Í∞àÎπÑ Ïó≠ÏÇºÏ†ê</div>
                                <div class="merchant-desc">ÌïúÏãù ‚Ä¢ ÎèÑÎ≥¥ 3Î∂Ñ ‚Ä¢ ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©Í∞ÄÎä•</div>
                                <div class="merchant-tags">
                                    <span class="tag">Ìï†Ïù∏ 5%</span>
                                    <span class="tag">Ï†ÅÎ¶Ω 1%</span>
                                </div>
                            </div>
                            <div class="merchant-distance">120m</div>
                        </div>
                        
                        <div class="merchant-item">
                            <div class="merchant-icon">‚òï</div>
                            <div class="merchant-info">
                                <div class="merchant-name">Ïä§ÌÉÄÎ≤ÖÏä§ ÌÖåÌó§ÎûÄÎ°úÏ†ê</div>
                                <div class="merchant-desc">Ïπ¥Ìéò ‚Ä¢ ÎèÑÎ≥¥ 5Î∂Ñ ‚Ä¢ Í≤ΩÍ∏∞ÏßÄÏó≠ÌôîÌèê ÏÇ¨Ïö©Í∞ÄÎä•</div>
                                <div class="merchant-tags">
                                    <span class="tag">Ï†ÅÎ¶Ω 2%</span>
                                </div>
                            </div>
                            <div class="merchant-distance">200m</div>
                        </div>
                        
                        <div class="merchant-item">
                            <div class="merchant-icon">üõí</div>
                            <div class="merchant-info">
                                <div class="merchant-name">Ïù¥ÎßàÌä∏ Ïó≠ÏÇºÏ†ê</div>
                                <div class="merchant-desc">ÎåÄÌòïÎßàÌä∏ ‚Ä¢ ÎèÑÎ≥¥ 8Î∂Ñ ‚Ä¢ Î™®Îì† ÏßÄÏó≠ÌôîÌèê ÏÇ¨Ïö©Í∞ÄÎä•</div>
                                <div class="merchant-tags">
                                    <span class="tag">Ìï†Ïù∏ 3%</span>
                                    <span class="tag">Ï†ÅÎ¶Ω 1%</span>
                                    <span class="tag">Ï∂îÏ≤ú</span>
                                </div>
                            </div>
                            <div class="merchant-distance">350m</div>
                        </div>
                        
                        <div class="merchant-item">
                            <div class="merchant-icon">üçï</div>
                            <div class="merchant-info">
                                <div class="merchant-name">ÎèÑÎØ∏ÎÖ∏ÌîºÏûê Í∞ïÎÇ®Ï†ê</div>
                                <div class="merchant-desc">ÏñëÏãù ‚Ä¢ ÎèÑÎ≥¥ 10Î∂Ñ ‚Ä¢ Î∂ÄÏÇ∞ÌôîÌèê ÏÇ¨Ïö©Í∞ÄÎä•</div>
                                <div class="merchant-tags">
                                    <span class="tag">Î∞∞Îã¨Í∞ÄÎä•</span>
                                </div>
                            </div>
                            <div class="merchant-distance">450m</div>
                        </div>
                        
                        <div class="merchant-item">
                            <div class="merchant-icon">üíä</div>
                            <div class="merchant-info">
                                <div class="merchant-name">Ïò®ÎàÑÎ¶¨ÏïΩÍµ≠</div>
                                <div class="merchant-desc">ÏïΩÍµ≠ ‚Ä¢ ÎèÑÎ≥¥ 2Î∂Ñ ‚Ä¢ ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©Í∞ÄÎä•</div>
                                <div class="merchant-tags">
                                    <span class="tag">24ÏãúÍ∞Ñ</span>
                                </div>
                            </div>
                            <div class="merchant-distance">80m</div>
                        </div>
                    </div>
                </section>

                <!-- Ï∂îÏ≤ú Í∞ÄÎßπÏ†ê -->
                <section class="recommended-section">
                    <div class="section-header">
                        <h2 class="section-title">AI Ï∂îÏ≤ú Í∞ÄÎßπÏ†ê</h2>
                        <a href="#" class="view-all-btn">ÎçîÎ≥¥Í∏∞</a>
                    </div>
                    
                    <div class="recommended-list">
                        <div class="recommended-item">
                            <div class="recommended-image">ü•ò</div>
                            <div class="recommended-info">
                                <div class="recommended-name">ÎßõÏûàÎäîÏßë Î≥∏Ï†ê</div>
                                <div class="recommended-rating">‚≠ê 4.7 (234)</div>
                            </div>
                        </div>
                        
                        <div class="recommended-item">
                            <div class="recommended-image">üç∞</div>
                            <div class="recommended-info">
                                <div class="recommended-name">Îã¨ÏΩ§Ïπ¥Ìéò</div>
                                <div class="recommended-rating">‚≠ê 4.5 (189)</div>
                            </div>
                        </div>
                        
                        <div class="recommended-item">
                            <div class="recommended-image">ü•ô</div>
                            <div class="recommended-info">
                                <div class="recommended-name">ÌÑ∞ÌÇ§Ïâ¨ÎîúÎùºÏù¥Ìä∏</div>
                                <div class="recommended-rating">‚≠ê 4.8 (92)</div>
                            </div>
                        </div>
                    </div>
                                </section>
             </main>
         </div>

        <!-- Ïó¨Ìñâ ÎØ∏ÏÖò ÌôîÎ©¥ -->
        <div id="mission-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        Ïó¨Ìñâ ÎØ∏ÏÖò
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="notification-btn" data-screen="my-screen" onclick="switchToMyPage()">
                            <span class="material-icons">person</span>
                        </button>
                        <button class="notification-btn">
                            <span class="material-icons">info</span>
                        </button>
                    </div>
                </div>
                
                <div class="balance-card">
                    <div class="balance-label">Ïó¨Ìñâ Î†àÎ≤® 7</div>
                    <div class="balance-amount">Ï†ÑÍµ≠ ÌÉêÌóòÍ∞Ä</div>
                    <div class="balance-actions">
                        <button class="balance-btn">Îã¨ÏÑ± Ï°∞Í±¥</button>
                        <button class="balance-btn">Îû≠ÌÇπ</button>
                        <button class="balance-btn">Î≥¥ÏÉÅ</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- ÏßÑÌñâÎ•† ÌÜµÍ≥Ñ -->
                <div class="progress-stats">
                    <div class="stat-item">
                        <div class="stat-number">5</div>
                        <div class="stat-label">Î∞©Î¨∏Ìïú ÏßÄÏó≠</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">8</div>
                        <div class="stat-label">ÏÉâÏπ† Í∞ÄÎä•</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">17</div>
                        <div class="stat-label">Ï†ÑÏ≤¥ ÏßÄÏó≠</div>
                    </div>
                </div>

                <!-- Ïû†Í∏à Ìï¥Ï†ú Ï°∞Í±¥ -->
                <div class="unlock-condition">
                    <h3>üéØ Îã§Ïùå ÏßÄÏó≠ Ïû†Í∏à Ìï¥Ï†ú</h3>
                    <p>Ï†úÏ£ºÎèÑ ÏßÄÏó≠ÌôîÌèêÎ°ú 5ÎßåÏõê Ïù¥ÏÉÅ Í≤∞Ï†úÌïòÍ∏∞</p>
                    <div class="condition-progress">
                        <div class="condition-progress-fill" style="width: 60%;"></div>
                    </div>
                    <div style="font-size: 12px; margin-top: 8px; color: #636e72;">3ÎßåÏõê / 5ÎßåÏõê (60%)</div>
                </div>

                <!-- Ïó¨Ìñâ ÏßÄÎèÑ -->
                <div class="travel-map-container">
                    <img src="map.jpg" alt="ÎåÄÌïúÎØºÍµ≠ ÏßÄÎèÑ" class="travel-map" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div style="display: none; width: 100%; height: 100%; background: #f8f9fa; align-items: center; justify-content: center; flex-direction: column;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üó∫Ô∏è</div>
                        <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">ÏßÄÎèÑ Î°úÎìú Ï§ë...</div>
                        <div style="font-size: 14px; color: #6c757d;">map.jpg ÌååÏùºÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                    
                    <!-- ÏßÄÏó≠ Ïò§Î≤ÑÎ†àÏù¥ -->
                    <div class="map-overlay">
                        <!-- ÏÑúÏö∏ -->
                        <div class="region-area colored" data-region="seoul" style="top: 15%; left: 45%; width: 8%; height: 8%;">
                            <div class="region-label">ÏÑúÏö∏</div>
                        </div>
                        
                        <!-- Í≤ΩÍ∏∞ÎèÑ -->
                        <div class="region-area colored" data-region="gyeonggi" style="top: 12%; left: 40%; width: 15%; height: 15%;">
                            <div class="region-label">Í≤ΩÍ∏∞ÎèÑ</div>
                        </div>
                        
                        <!-- Î∂ÄÏÇ∞ -->
                        <div class="region-area colored" data-region="busan" style="top: 70%; left: 75%; width: 8%; height: 8%;">
                            <div class="region-label">Î∂ÄÏÇ∞</div>
                        </div>
                        
                        <!-- ÎåÄÍµ¨ -->
                        <div class="region-area unlocked" data-region="daegu" style="top: 55%; left: 65%; width: 8%; height: 8%;">
                            <div class="region-label">ÎåÄÍµ¨</div>
                        </div>
                        
                        <!-- Ïù∏Ï≤ú -->
                        <div class="region-area unlocked" data-region="incheon" style="top: 18%; left: 35%; width: 8%; height: 8%;">
                            <div class="region-label">Ïù∏Ï≤ú</div>
                        </div>
                        
                        <!-- Í¥ëÏ£º -->
                        <div class="region-area unlocked" data-region="gwangju" style="top: 65%; left: 40%; width: 8%; height: 8%;">
                            <div class="region-label">Í¥ëÏ£º</div>
                        </div>
                        
                        <!-- ÎåÄÏ†Ñ -->
                        <div class="region-area unlocked" data-region="daejeon" style="top: 40%; left: 45%; width: 8%; height: 8%;">
                            <div class="region-label">ÎåÄÏ†Ñ</div>
                        </div>
                        
                        <!-- Ïö∏ÏÇ∞ -->
                        <div class="region-area unlocked" data-region="ulsan" style="top: 65%; left: 80%; width: 6%; height: 6%;">
                            <div class="region-label">Ïö∏ÏÇ∞</div>
                        </div>
                        
                        <!-- Í∞ïÏõêÎèÑ -->
                        <div class="region-area colored" data-region="gangwon" style="top: 8%; left: 55%; width: 20%; height: 20%;">
                            <div class="region-label">Í∞ïÏõêÎèÑ</div>
                        </div>
                        
                        <!-- Ï∂©Ï≤≠Î∂ÅÎèÑ -->
                        <div class="region-area locked" data-region="chungbuk" style="top: 35%; left: 50%; width: 12%; height: 12%;">
                            <div class="region-label">Ï∂©Î∂Å</div>
                        </div>
                        
                        <!-- Ï∂©Ï≤≠ÎÇ®ÎèÑ -->
                        <div class="region-area locked" data-region="chungnam" style="top: 35%; left: 35%; width: 12%; height: 12%;">
                            <div class="region-label">Ï∂©ÎÇ®</div>
                        </div>
                        
                        <!-- Ï†ÑÎùºÎ∂ÅÎèÑ -->
                        <div class="region-area locked" data-region="jeonbuk" style="top: 50%; left: 35%; width: 12%; height: 12%;">
                            <div class="region-label">Ï†ÑÎ∂Å</div>
                        </div>
                        
                        <!-- Ï†ÑÎùºÎÇ®ÎèÑ -->
                        <div class="region-area locked" data-region="jeonnam" style="top: 62%; left: 30%; width: 15%; height: 15%;">
                            <div class="region-label">Ï†ÑÎÇ®</div>
                        </div>
                        
                        <!-- Í≤ΩÏÉÅÎ∂ÅÎèÑ -->
                        <div class="region-area locked" data-region="gyeongbuk" style="top: 35%; left: 60%; width: 15%; height: 20%;">
                            <div class="region-label">Í≤ΩÎ∂Å</div>
                        </div>
                        
                        <!-- Í≤ΩÏÉÅÎÇ®ÎèÑ -->
                        <div class="region-area locked" data-region="gyeongnam" style="top: 58%; left: 55%; width: 18%; height: 15%;">
                            <div class="region-label">Í≤ΩÎÇ®</div>
                        </div>
                        
                        <!-- Ï†úÏ£ºÎèÑ -->
                        <div class="region-area locked" data-region="jeju" style="top: 85%; left: 25%; width: 8%; height: 6%;">
                            <div class="region-label">Ï†úÏ£ºÎèÑ</div>
                        </div>
                        
                        <!-- ÏÑ∏Ï¢Ö -->
                        <div class="region-area locked" data-region="sejong" style="top: 38%; left: 42%; width: 4%; height: 4%;">
                            <div class="region-label">ÏÑ∏Ï¢Ö</div>
                        </div>
                    </div>
                </div>

                <!-- ÏµúÍ∑º Ïó¨Ìñâ Í∏∞Î°ù -->
                <section class="local-currency-section">
                    <div class="section-header">
                        <h2 class="section-title">ÏµúÍ∑º Ïó¨Ìñâ Í∏∞Î°ù</h2>
                        <a href="#" class="view-all-btn">Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
                    </div>
                    
                    <div class="travel-record featured">
                        <div class="record-header">
                            <div class="record-icon">üèîÔ∏è</div>
                            <div class="record-info">
                                <h3>Ï∂òÏ≤ú Ïó¨Ìñâ</h3>
                                <p>2024.01.15 ‚Ä¢ Í∞ïÏõêÎèÑ</p>
                            </div>
                        </div>
                        <div class="record-content">
                            Ï∂òÏ≤ú Î™ÖÎèôÎã≠Í∞àÎπÑÏóêÏÑú Ï†ïÎßê ÎßõÏûàÎäî Îã≠Í∞àÎπÑÎ•º Î®πÏóàÏñ¥Ïöî! Ï∂òÏ≤úÏÇ¨ÎûëÏÉÅÌíàÍ∂åÏúºÎ°ú Í≤∞Ï†úÌïòÎãà Ìï†Ïù∏ÎèÑ Î∞õÍ≥† Ï¢ãÏïòÏäµÎãàÎã§.
                        </div>
                        <div class="record-images">
                            <div class="record-image">üçó</div>
                            <div class="record-image">üèûÔ∏è</div>
                            <div class="record-image">‚òï</div>
                        </div>
                        <div class="record-tags">
                            <span class="record-tag">#Îã≠Í∞àÎπÑ</span>
                            <span class="record-tag">#ÎÇ®Ïù¥ÏÑ¨</span>
                            <span class="record-tag">#Ï∂òÏ≤úÏÇ¨ÎûëÏÉÅÌíàÍ∂å</span>
                        </div>
                    </div>
                    
                    <div class="travel-record">
                        <div class="record-header">
                            <div class="record-icon">üåä</div>
                            <div class="record-info">
                                <h3>Î∂ÄÏÇ∞ Ìï¥Ïö¥ÎåÄ</h3>
                                <p>2024.01.10 ‚Ä¢ Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú</p>
                            </div>
                        </div>
                        <div class="record-content">
                            Ìï¥Ïö¥ÎåÄ Ìï¥ÏàòÏöïÏû•ÏóêÏÑú ÏïÑÎ¶ÑÎã§Ïö¥ ÏùºÏ∂úÏùÑ Î¥§Ïñ¥Ïöî. Î∂ÄÏÇ∞ÌôîÌèêÎ°ú Ìï¥Î¨ºÌÉïÎèÑ Î®πÍ≥† Ï¶êÍ±∞Ïö¥ Ïó¨ÌñâÏù¥ÏóàÏäµÎãàÎã§!
                        </div>
                        <div class="record-images">
                            <div class="record-image">ü¶Ä</div>
                            <div class="record-image">üåÖ</div>
                        </div>
                        <div class="record-tags">
                            <span class="record-tag">#Ìï¥Ïö¥ÎåÄ</span>
                            <span class="record-tag">#ÏùºÏ∂ú</span>
                            <span class="record-tag">#Î∂ÄÏÇ∞ÌôîÌèê</span>
                        </div>
                    </div>
                </section>
            </main>
         </div>

        <!-- ÎßàÏù¥ ÌôîÎ©¥ -->
        <div id="my-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        ÎßàÏù¥ÌéòÏù¥ÏßÄ
                    </div>
                    <button class="notification-btn">
                        <span class="material-icons">settings</span>
                    </button>
                </div>
                
                <div class="balance-card">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 50%; margin-right: 16px; display: flex; align-items: center; justify-content: center; font-size: 24px;">üë§</div>
                        <div>
                            <div style="font-size: 20px; font-weight: 600; margin-bottom: 4px;">ÍπÄÏó¨ÌñâÎãò</div>
                            <div style="font-size: 14px; opacity: 0.9;">Î†àÎ≤® 7 ‚Ä¢ Ï†ÑÍµ≠ ÌÉêÌóòÍ∞Ä</div>
                        </div>
                    </div>
                    <div class="balance-actions">
                        <button class="balance-btn">ÌîÑÎ°úÌïÑ ÏàòÏ†ï</button>
                        <button class="balance-btn">ÏÑ§Ï†ï</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <section class="mission-section">
                    <div class="mission-card">
                        <div class="mission-title">Ïù¥Î≤à Îã¨ ÏÑ±Í≥º</div>
                        <div class="mission-desc">5Í∞ú ÏßÄÏó≠ Î∞©Î¨∏ ‚Ä¢ 15Ìöå ÏßÄÏó≠ÌôîÌèê ÏÇ¨Ïö©</div>
                        <div class="mission-progress">
                            <div class="mission-progress-fill"></div>
                        </div>
                        <div class="mission-reward">Îã§Ïùå Î†àÎ≤®ÍπåÏßÄ 40% ÎÇ®Ïùå</div>
                    </div>
                </section>

                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">üìä</div>
                        <div class="activity-info">
                            <div class="activity-title">ÏÇ¨Ïö© ÌÜµÍ≥Ñ</div>
                            <div class="activity-desc">ÏõîÎ≥Ñ ÏÇ¨Ïö© ÌòÑÌô©Í≥º Ï†àÏÑ∏ ÌòúÌÉù</div>
                        </div>
                        <span class="material-icons" style="color: #6c757d;">chevron_right</span>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">üéØ</div>
                        <div class="activity-info">
                            <div class="activity-title">ÎØ∏ÏÖò ÌòÑÌô©</div>
                            <div class="activity-desc">ÏßÑÌñâÏ§ëÏù∏ ÎØ∏ÏÖòÍ≥º Îã¨ÏÑ± Í∏∞Î°ù</div>
                        </div>
                        <span class="material-icons" style="color: #6c757d;">chevron_right</span>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">üèÜ</div>
                        <div class="activity-info">
                            <div class="activity-title">Î¶¨ÏõåÎìú</div>
                            <div class="activity-desc">Ï†ÅÎ¶ΩÎêú Ìè¨Ïù∏Ìä∏ÏôÄ Ïø†Ìè∞</div>
                        </div>
                        <span class="material-icons" style="color: #6c757d;">chevron_right</span>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">‚ùì</div>
                        <div class="activity-info">
                            <div class="activity-title">Í≥†Í∞ùÏÑºÌÑ∞</div>
                            <div class="activity-desc">Î¨∏ÏùòÌïòÍ∏∞ ‚Ä¢ FAQ ‚Ä¢ Í≥µÏßÄÏÇ¨Ìï≠</div>
                        </div>
                        <span class="material-icons" style="color: #6c757d;">chevron_right</span>
                    </div>
                </div>
            </main>
        </div>

        <!-- QR Í≤∞Ï†ú ÌôîÎ©¥ -->
        <div id="qr-screen" class="screen">
            <header class="header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="logo.png" alt="ÎåÄÎèôÏó¨ÏßÄÎèÑ Î°úÍ≥†" onerror="this.parentElement.innerHTML='üó∫Ô∏è'">
                        </div>
                        QR Í≤∞Ï†ú
                    </div>
                    <button class="notification-btn" onclick="switchScreen('home-screen')">
                        <span class="material-icons">close</span>
                    </button>
                </div>
            </header>

            <main style="padding: 0; background: #f8f9fa;">
                <!-- QR Ïä§Ï∫êÎÑà -->
                <div class="qr-scanner-container">
                    <div style="color: #666; text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üì±</div>
                        <div style="font-size: 16px; margin-bottom: 8px;">Ïπ¥Î©îÎùº Î∑∞</div>
                        <div style="font-size: 14px; opacity: 0.7;">QR ÏΩîÎìúÎ•º Ïä§Ï∫îÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                    
                    <div class="scanner-overlay">
                        <div class="scanner-corners top-left"></div>
                        <div class="scanner-corners top-right"></div>
                        <div class="scanner-corners bottom-left"></div>
                        <div class="scanner-corners bottom-right"></div>
                        <div class="scanner-line"></div>
                    </div>
                </div>

                <!-- Í≤∞Ï†ú Ï†ïÎ≥¥ -->
                <div class="payment-section">
                    <div class="payment-amount">
                        <div style="font-size: 14px; color: #6c757d; margin-bottom: 8px;">Í≤∞Ï†ú Í∏àÏï°</div>
                        <input type="text" class="amount-input" placeholder="0" id="paymentAmount">
                        <div style="font-size: 14px; color: #6c757d;">Ïõê</div>
                    </div>

                    <!-- ÏßÄÏó≠ÌôîÌèê ÏÑ†ÌÉù -->
                    <div style="margin-bottom: 24px;">
                        <div style="font-size: 16px; font-weight: 600; margin-bottom: 12px;">Í≤∞Ï†ú ÏàòÎã® ÏÑ†ÌÉù</div>
                        <div class="currency-selector">
                            <div class="currency-option selected" data-currency="seoul">
                                <div class="currency-option-logo">ÏÑú</div>
                                <div>
                                    <div style="font-size: 14px; font-weight: 500;">ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å</div>
                                    <div style="font-size: 12px; color: #6c757d;">‚Ç©350,000</div>
                                </div>
                            </div>
                            
                            <div class="currency-option" data-currency="gyeonggi">
                                <div class="currency-option-logo">Í≤Ω</div>
                                <div>
                                    <div style="font-size: 14px; font-weight: 500;">Í≤ΩÍ∏∞ÏßÄÏó≠ÌôîÌèê</div>
                                    <div style="font-size: 12px; color: #6c757d;">‚Ç©275,000</div>
                                </div>
                            </div>
                            
                            <div class="currency-option" data-currency="busan">
                                <div class="currency-option-logo">Î∂Ä</div>
                                <div>
                                    <div style="font-size: 14px; font-weight: 500;">Î∂ÄÏÇ∞ÌôîÌèê</div>
                                    <div style="font-size: 12px; color: #6c757d;">‚Ç©122,500</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Îß§Ïû• Ï†ïÎ≥¥ (QR Ïä§Ï∫î ÌõÑ ÌëúÏãúÎê† ÏòÅÏó≠) -->
                    <div id="merchantInfo" style="display: none;">
                        <div style="background: #f8f9fa; border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                            <div style="display: flex; align-items: center; margin-bottom: 8px;">
                                <div style="width: 40px; height: 40px; background: #4A90E2; border-radius: 8px; margin-right: 12px; display: flex; align-items: center; justify-content: center; color: white;">üè™</div>
                                <div>
                                    <div style="font-size: 16px; font-weight: 600;">Ïä§ÌÉÄÎ≤ÖÏä§ Î™ÖÎèôÏ†ê</div>
                                    <div style="font-size: 14px; color: #6c757d;">ÏÑúÏö∏ Ï§ëÍµ¨ Î™ÖÎèôÍ∏∏ 74</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Í≤∞Ï†ú Î≤ÑÌäº -->
                    <button class="pay-button" onclick="processPayment()">
                        Í≤∞Ï†úÌïòÍ∏∞
                    </button>

                    <!-- Îπ†Î•∏ Í∏àÏï° ÏÑ†ÌÉù -->
                    <div style="margin-top: 20px;">
                        <div style="font-size: 14px; font-weight: 500; margin-bottom: 12px; color: #6c757d;">Îπ†Î•∏ ÏÑ†ÌÉù</div>
                        <div style="display: flex; gap: 8px;">
                            <button class="quick-amount-btn" data-amount="5000">5Ï≤úÏõê</button>
                            <button class="quick-amount-btn" data-amount="10000">1ÎßåÏõê</button>
                            <button class="quick-amount-btn" data-amount="20000">2ÎßåÏõê</button>
                            <button class="quick-amount-btn" data-amount="50000">5ÎßåÏõê</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ÏÉâÏπ†ÌïòÍ∏∞ Î™®Îã¨ -->
        <div id="paintModal" class="paint-modal">
            <div class="paint-modal-content">
                <div class="paint-modal-header">
                    <div class="paint-modal-icon">üé®</div>
                    <h3 id="modalRegionName">ÏÑúÏö∏ ÏÉâÏπ†ÌïòÍ∏∞</h3>
                    <p>Ïù¥ ÏßÄÏó≠Ïóê ÎåÄÌïú Ïó¨Ìñâ Í∏∞Î°ùÏùÑ ÎÇ®Í≤®Î≥¥ÏÑ∏Ïöî!</p>
                </div>
                
                <div class="record-form">
                    <div class="form-group">
                        <label class="form-label">Ïó¨Ìñâ Ï†úÎ™©</label>
                        <input type="text" class="form-input" id="travelTitle" placeholder="Ïòà: ÏÑúÏö∏ ÎßõÏßë Ìà¨Ïñ¥">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ïó¨Ìñâ ÎÇ¥Ïö©</label>
                        <textarea class="form-input form-textarea" id="travelContent" placeholder="Ïñ¥Îñ§ Ïó¨ÌñâÏùÑ ÌïòÏÖ®ÎÇòÏöî? ÎßõÏûàÎäî ÏùåÏãù, ÏïÑÎ¶ÑÎã§Ïö¥ ÌíçÍ≤Ω, ÌäπÎ≥ÑÌïú Í≤ΩÌóòÏùÑ Í≥µÏú†Ìï¥Ï£ºÏÑ∏Ïöî!"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÏÇ¨ÏßÑ Ï∂îÍ∞Ä (ÏÑ†ÌÉùÏÇ¨Ìï≠)</label>
                        <div class="photo-upload">
                            <div class="photo-placeholder" onclick="addPhoto()">
                                <span class="material-icons">add_photo_alternate</span>
                            </div>
                            <div class="photo-placeholder" onclick="addPhoto()">
                                <span class="material-icons">add_photo_alternate</span>
                            </div>
                            <div class="photo-placeholder" onclick="addPhoto()">
                                <span class="material-icons">add_photo_alternate</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ìï¥ÏãúÌÉúÍ∑∏</label>
                        <input type="text" class="form-input" id="travelTags" placeholder="#ÎßõÏßë #Ïó¨Ìñâ #ÏßÄÏó≠ÌôîÌèê">
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-secondary" onclick="closePaintModal()">Ï∑®ÏÜå</button>
                    <button class="modal-btn modal-btn-primary" onclick="saveTravel()">ÏÉâÏπ†ÌïòÍ≥† Í∏∞Î°ù Ï†ÄÏû•</button>
                </div>
            </div>
        </div>

        <!-- Ïû†Í∏¥ ÏßÄÏó≠ Î™®Îã¨ -->
        <div id="lockedModal" class="paint-modal">
            <div class="paint-modal-content">
                <div class="paint-modal-header">
                    <div class="paint-modal-icon">üîí</div>
                    <h3 id="lockedRegionName">ÏßÄÏó≠Ïù¥ Ïû†Í≤®ÏûàÏäµÎãàÎã§</h3>
                    <p id="unlockCondition">Ïù¥ ÏßÄÏó≠ÏùÑ ÏÉâÏπ†ÌïòÎ†§Î©¥ ÌäπÏ†ï Ï°∞Í±¥ÏùÑ Îã¨ÏÑ±Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="font-size: 48px; margin-bottom: 16px;">üéØ</div>
                    <h4 style="margin-bottom: 12px;">Îã¨ÏÑ±Ìï¥Ïïº Ìï† Ï°∞Í±¥</h4>
                    <div id="conditionList" style="text-align: left; background: #f8f9fa; padding: 16px; border-radius: 12px;">
                        <div style="margin-bottom: 8px;">‚úÖ Ìï¥Îãπ ÏßÄÏó≠ Î∞©Î¨∏ÌïòÍ∏∞</div>
                        <div style="margin-bottom: 8px;">‚úÖ ÏßÄÏó≠ÌôîÌèêÎ°ú Í≤∞Ï†úÌïòÍ∏∞</div>
                        <div style="color: #e74c3c;">‚ùå Ï¥ù 5ÎßåÏõê Ïù¥ÏÉÅ ÏÇ¨Ïö©ÌïòÍ∏∞ (ÌòÑÏû¨: 3ÎßåÏõê)</div>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-primary" onclick="closeLockedModal()" style="width: 100%;">ÌôïÏù∏</button>
                </div>
            </div>
        </div>

        <!-- ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-screen="home-screen">
                <div class="nav-icon">
                    <span class="material-icons">home</span>
                </div>
                Ìôà
            </a>
            <a href="#" class="nav-item" data-screen="wallet-screen">
                <div class="nav-icon">
                    <span class="material-icons">account_balance_wallet</span>
                </div>
                ÏßÄÍ∞ë
            </a>
            <div class="ai-nav-item">
                <button class="ai-nav-btn" data-screen="ai-screen">
                    <span class="material-icons">smart_toy</span>
                </button>
                <div class="nav-label">AIÍ∞ÄÏù¥Îìú</div>
            </div>
            <a href="#" class="nav-item" data-screen="map-screen">
                <div class="nav-icon">
                    <span class="material-icons">map</span>
                </div>
                ÏßÄÎèÑ
            </a>
            <a href="#" class="nav-item" data-screen="mission-screen">
                <div class="nav-icon">
                    <span class="material-icons">flag</span>
                </div>
                ÎØ∏ÏÖò
            </a>
        </nav>

        <!-- ÌîåÎ°úÌåÖ QR Î≤ÑÌäº -->
        <div class="floating-qr-container">
            <button class="floating-qr-btn" data-screen="qr-screen" onclick="switchScreen('qr-screen')">
                <span class="material-icons">qr_code_scanner</span>
            </button>
            <div class="qr-tooltip">QRÍ≤∞Ï†ú</div>
        </div>
    </div>



    <script>

        // AI ÏûÖÎ†• ÏóîÌÑ∞ÌÇ§ Ïù¥Î≤§Ìä∏
        document.querySelector('.ai-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                handleAIQuery();
            }
        });

        // AI Ï†ÑÏÜ° Î≤ÑÌäº ÌÅ¥Î¶≠
        document.querySelector('.ai-send-btn').addEventListener('click', handleAIQuery);

        function handleAIQuery() {
            const input = document.querySelector('.ai-input');
            const query = input.value.trim();
            
            if (query) {
                // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî AI API Ìò∏Ï∂ú
                console.log('AI Query:', query);
                
                // ÏûÖÎ†•Ï∞Ω ÎπÑÏö∞Í∏∞
                input.value = '';
                
                // Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì± Ï∂îÍ∞Ä Í∞ÄÎä•
                showAIResponse(query);
            }
        }

        function showAIResponse(query) {
            // ÏûÑÏãú ÏùëÎãµ ÌëúÏãú (Ïã§Ï†úÎ°úÎäî AI API ÏùëÎãµ)
            alert(`"${query}"Ïóê ÎåÄÌïú Ï∂îÏ≤ú Í≤∞Í≥ºÎ•º Ï§ÄÎπÑÏ§ëÏûÖÎãàÎã§!`);
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïï†ÎãàÎ©îÏù¥ÏÖò
        window.addEventListener('load', function() {
            document.querySelectorAll('.fade-in').forEach((el, index) => {
                el.style.animationDelay = `${index * 0.1}s`;
            });
        });

        // ÌôîÎ©¥ Ï†ÑÌôò Ìï®Ïàò
        function switchScreen(screenId) {
            // Î™®Îì† ÌôîÎ©¥ Ïà®Í∏∞Í∏∞
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // ÏÑ†ÌÉùÎêú ÌôîÎ©¥ Î≥¥Ïù¥Í∏∞
            document.getElementById(screenId).classList.add('active');
        }

        // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÌôúÏÑ±Ìôî ÏÉÅÌÉú Î≥ÄÍ≤Ω Î∞è ÌôîÎ©¥ Ï†ÑÌôò
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Î™®Îì† ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏïÑÏù¥ÌÖúÏóêÏÑú active ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                
                // ÌÅ¥Î¶≠Îêú ÏïÑÏù¥ÌÖúÏóê active ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
                this.classList.add('active');
                
                // ÌôîÎ©¥ Ï†ÑÌôò
                const screenId = this.getAttribute('data-screen');
                switchScreen(screenId);
            });
        });

        // AI Ï±óÎ¥á Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Ï∂îÍ∞Ä
        document.querySelector('.ai-nav-btn').addEventListener('click', function() {
            // Î™®Îì† ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏïÑÏù¥ÌÖúÏóêÏÑú active ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            
            // AI ÌôîÎ©¥ÏúºÎ°ú Ï†ÑÌôò
            switchScreen('ai-screen');
        });

        // ÌôàÌôîÎ©¥ÏóêÏÑú Ï±óÎ¥áÏúºÎ°ú Ïù¥ÎèôÌïòÎäî Ìï®Ïàò
        function goToChatBot() {
            // ÌôàÌôîÎ©¥Ïùò ÏûÖÎ†•Í∞í Í∞ÄÏ†∏Ïò§Í∏∞
            const homeInput = document.getElementById('homeAiInput');
            const inputValue = homeInput.value;
            
            // AI ÌôîÎ©¥ÏúºÎ°ú Ï†ÑÌôò
            switchScreen('ai-screen');
            
            // Î™®Îì† ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏïÑÏù¥ÌÖúÏóêÏÑú active ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            
            // ÏûÖÎ†•Í∞íÏù¥ ÏûàÏúºÎ©¥ Ï±óÎ¥áÏóê Î©îÏãúÏßÄ Ï†ÑÏÜ°
            if (inputValue.trim()) {
                setTimeout(() => {
                    sendMessageWithText(inputValue);
                    homeInput.value = ''; // Ìôà ÏûÖÎ†•Ï∞Ω Ï¥àÍ∏∞Ìôî
                }, 300);
            } else {
                // ÏûÖÎ†•Í∞íÏù¥ ÏóÜÏúºÎ©¥ Ï±óÎ¥á ÏûÖÎ†•Ï∞ΩÏóê Ìè¨Ïª§Ïä§
                setTimeout(() => {
                    document.getElementById('chatInput').focus();
                }, 300);
            }
        }

        // Ï±óÎ¥á Î©îÏãúÏßÄ Ï†ÑÏÜ° Ìï®Ïàò
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                sendMessageWithText(message);
                input.value = '';
            }
        }

        // ÌÖçÏä§Ìä∏Î°ú Î©îÏãúÏßÄ Ï†ÑÏÜ°ÌïòÎäî Ìï®Ïàò
        function sendMessageWithText(messageText) {
            const chatMessages = document.getElementById('chatMessages');
            
            // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä
            const userMessage = createMessage(messageText, 'user');
            chatMessages.appendChild(userMessage);
            
            // Ïä§ÌÅ¨Î°§ÏùÑ ÏïÑÎûòÎ°ú
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // AI ÏùëÎãµ ÏãúÎÆ¨Î†àÏù¥ÏÖò (2Ï¥à ÌõÑ)
            setTimeout(() => {
                const aiResponse = generateAIResponse(messageText);
                const botMessage = createMessage(aiResponse, 'bot');
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1500);
        }

        // Î©îÏãúÏßÄ ÏöîÏÜå ÏÉùÏÑ± Ìï®Ïàò
        function createMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type === 'user' ? 'user-message' : 'bot-message'}`;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString('ko-KR', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: false 
            });
            
            if (type === 'user') {
                messageDiv.innerHTML = `
                    <div class="message-content">
                        <div class="message-text">${text}</div>
                        <div class="message-time">${timeString}</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-text">${text}</div>
                        <div class="message-time">${timeString}</div>
                        <div class="message-actions">
                            <button class="action-btn" onclick="visitPlace('recommended')">Î∞©Î¨∏ Ïù∏Ï¶ù</button>
                            <button class="action-btn" onclick="shareRecommendation()">Í≥µÏú†ÌïòÍ∏∞</button>
                        </div>
                    </div>
                `;
            }
            
            return messageDiv;
        }

        // AI ÏùëÎãµ ÏÉùÏÑ± Ìï®Ïàò (ÏãúÎÆ¨Î†àÏù¥ÏÖò)
        function generateAIResponse(userMessage) {
            const responses = {
                'Ï∂òÏ≤ú': 'Ï∂òÏ≤ú Îã≠Í∞àÎπÑ ÎßõÏßëÏùÑ Ï∂îÏ≤úÌï¥ÎìúÎ¶¥Í≤åÏöî! üçó<br/><br/><strong>1. Ï∂òÏ≤úÎ™ÖÎèôÎã≠Í∞àÎπÑ</strong><br/>üìç Ï∂òÏ≤úÏãú Î™ÖÎèôÍ∏∏ 15<br/>‚≠ê 4.5/5 | Ï∂òÏ≤úÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©Í∞ÄÎä•<br/><br/><strong>2. ÏàØÎ∂àÎã≠Í∞àÎπÑ</strong><br/>üìç Ï∂òÏ≤úÏãú Ï§ëÏïôÎ°ú 89<br/>‚≠ê 4.3/5 | Ìï†Ïù∏ 10% Ï†ÅÏö©<br/><br/>Ïù¥ Í≥≥Îì§ÏùÑ Î∞©Î¨∏ÌïòÏãúÎ©¥ Ìè¨Ïù∏Ìä∏ÎèÑ Ï†ÅÎ¶ΩÎê©ÎãàÎã§! üéÅ',
                'Î∂ÄÏÇ∞': 'Î∂ÄÏÇ∞ Ïó¨Ìñâ ÏΩîÏä§Î•º Ï∂îÏ≤úÌï¥ÎìúÎ¶¥Í≤åÏöî! üåä<br/><br/><strong>1. Ìï¥Ïö¥ÎåÄ Ìï¥ÏàòÏöïÏû•</strong><br/>üìç Î∂ÄÏÇ∞ Ìï¥Ïö¥ÎåÄÍµ¨<br/>üèñÔ∏è ÎåÄÌëú Ìï¥ÏàòÏöïÏû• | Î∂ÄÏÇ∞ÌôîÌèê ÏÇ¨Ïö©Í∞ÄÎä•<br/><br/><strong>2. Í∞êÏ≤úÎ¨∏ÌôîÎßàÏùÑ</strong><br/>üìç Î∂ÄÏÇ∞ ÏÇ¨ÌïòÍµ¨<br/>üé® ÏïåÎ°ùÎã¨Î°ùÌïú Î≤ΩÌôîÎßàÏùÑ<br/><br/>Î∞©Î¨∏ ÌõÑ Ïù∏Ï¶ùÌïòÎ©¥ +500P Ï†ÅÎ¶Ω! üéÅ',
                'ÏÑúÏö∏': 'ÏÑúÏö∏ ÎßõÏßëÏùÑ Ï∂îÏ≤úÌï¥ÎìúÎ¶¥Í≤åÏöî! üçΩÔ∏è<br/><br/><strong>1. Î™ÖÎèôÍµêÏûê</strong><br/>üìç ÏÑúÏö∏ Ï§ëÍµ¨ Î™ÖÎèô<br/>ü•ü Ï†ÑÌÜµ ÎßåÎëê Ï†ÑÎ¨∏Ï†ê | ÏÑúÏö∏ÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©<br/><br/><strong>2. Í¥ëÏû•ÏãúÏû•</strong><br/>üìç ÏÑúÏö∏ Ï¢ÖÎ°úÍµ¨<br/>üç≥ ÎπàÎåÄÎñ°, ÎßàÏïΩÍπÄÎ∞•ÏúºÎ°ú Ïú†Î™Ö<br/><br/>Î∞©Î¨∏ÌïòÏãúÎ©¥ Ïó¨Ìñâ Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω! ‚ú®',
                'Ï†úÏ£ºÎèÑ': 'Ï†úÏ£ºÎèÑ Ïó¨Ìñâ ÏΩîÏä§Î•º Ï∂îÏ≤úÌï¥ÎìúÎ¶¥Í≤åÏöî! üèùÔ∏è<br/><br/><strong>1. ÏÑ±ÏÇ∞ÏùºÏ∂úÎ¥â</strong><br/>üìç Ï†úÏ£º ÏÑúÍ∑ÄÌè¨Ïãú<br/>üåÖ ÏùºÏ∂ú Î™ÖÏÜå | Ï†úÏ£ºÏÇ¨ÎûëÏÉÅÌíàÍ∂å ÏÇ¨Ïö©<br/><br/><strong>2. ÌïúÎùºÏÇ∞</strong><br/>üìç Ï†úÏ£ºÏãú<br/>‚õ∞Ô∏è Îì±ÏÇ∞ ÏΩîÏä§ Ï∂îÏ≤ú<br/><br/>ÏûêÏó∞ ÏÜçÏóêÏÑú ÌûêÎßÅÌïòÍ≥† Ìè¨Ïù∏Ìä∏ÎèÑ Î∞õÏïÑÍ∞ÄÏÑ∏Ïöî! üåø'
            };
            
            // ÌÇ§ÏõåÎìú Îß§Ïπ≠ÏúºÎ°ú ÏùëÎãµ Ï∞æÍ∏∞
            for (const [keyword, response] of Object.entries(responses)) {
                if (userMessage.includes(keyword)) {
                    return response;
                }
            }
            
            // Í∏∞Î≥∏ ÏùëÎãµ
            return `"${userMessage}"Ïóê ÎåÄÌïú Ï†ïÎ≥¥Î•º Ï∞æÍ≥† ÏûàÏñ¥Ïöî! üîç<br/><br/>Ï£ÑÏÜ°ÌïòÏßÄÎßå ÏïÑÏßÅ Ìï¥Îãπ ÏßÄÏó≠Ïùò Ï†ïÎ≥¥Í∞Ä Ï§ÄÎπÑÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.<br/>Îã§Î•∏ ÏßÄÏó≠Ïù¥ÎÇò Îã§Î•∏ ÏßàÎ¨∏ÏùÑ Ìï¥Î≥¥ÏãúÍ≤†Ïñ¥Ïöî?<br/><br/>Ï∂îÏ≤ú ÌÇ§ÏõåÎìú: Ï∂òÏ≤ú, Î∂ÄÏÇ∞, ÏÑúÏö∏, Ï†úÏ£ºÎèÑ üó∫Ô∏è`;
        }

        // Îπ†Î•∏ ÏßàÎ¨∏ Ï†ÑÏÜ° Ìï®Ïàò
        function sendQuickMessage(message) {
            sendMessageWithText(message);
        }

        // Ï±óÎ¥á ÏûÖÎ†•Ï∞ΩÏóêÏÑú ÏóîÌÑ∞ÌÇ§ Ï≤òÎ¶¨
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });

        // Î∞©Î¨∏ Ïù∏Ï¶ù Ìï®Ïàò
        function visitPlace(place) {
            alert('Î∞©Î¨∏ Ïù∏Ï¶ùÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! +500P Ï†ÅÎ¶Ω üéâ');
        }

        // Ï∂îÏ≤ú Í≥µÏú† Ìï®Ïàò
        function shareRecommendation() {
            alert('Ï∂îÏ≤ú Ï†ïÎ≥¥Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üìã');
        }

        // Ï±ÑÌåÖ Í∏∞Î°ù Ï¥àÍ∏∞Ìôî Ìï®Ïàò
        function clearChatHistory() {
            const chatMessages = document.getElementById('chatMessages');
            // ÌôòÏòÅ Î©îÏãúÏßÄÎßå ÎÇ®Í∏∞Í≥† Î™®Îì† Î©îÏãúÏßÄ Ï†úÍ±∞
            const welcomeMessage = chatMessages.querySelector('.chat-message.bot-message');
            chatMessages.innerHTML = '';
            if (welcomeMessage) {
                chatMessages.appendChild(welcomeMessage.cloneNode(true));
            }
        }

        // ÏûîÏï° Ïπ¥Îìú Ïï†ÎãàÎ©îÏù¥ÏÖò
        let balance = 847500;
        function animateBalance() {
            const balanceElement = document.querySelector('.balance-amount');
            let current = 0;
            const increment = balance / 50;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= balance) {
                    current = balance;
                    clearInterval(timer);
                }
                balanceElement.textContent = `‚Ç©${Math.floor(current).toLocaleString()}`;
            }, 20);
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏûîÏï° Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ
        setTimeout(animateBalance, 500);

        // QR Í≤∞Ï†ú Í¥ÄÎ†® Í∏∞Îä•Îì§
        
        // ÏßÄÏó≠ÌôîÌèê ÏÑ†ÌÉù
        document.querySelectorAll('.currency-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.currency-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });

        // Îπ†Î•∏ Í∏àÏï° ÏÑ†ÌÉù
        document.querySelectorAll('.quick-amount-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const amount = this.getAttribute('data-amount');
                document.getElementById('paymentAmount').value = parseInt(amount).toLocaleString();
            });
        });

        // Í∏àÏï° ÏûÖÎ†• Ìè¨Îß∑ÌåÖ
        document.getElementById('paymentAmount').addEventListener('input', function() {
            let value = this.value.replace(/[^\d]/g, '');
            if (value) {
                this.value = parseInt(value).toLocaleString();
            }
        });

        // Í≤∞Ï†ú Ï≤òÎ¶¨ Ìï®Ïàò
        function processPayment() {
            const amount = document.getElementById('paymentAmount').value;
            const selectedCurrency = document.querySelector('.currency-option.selected');
            
            if (!amount || amount === '0') {
                alert('Í≤∞Ï†ú Í∏àÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const currencyName = selectedCurrency.querySelector('div div').textContent;
            
            // Í≤∞Ï†ú Ï≤òÎ¶¨ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            document.querySelector('.pay-button').textContent = 'Í≤∞Ï†ú Ï§ë...';
            document.querySelector('.pay-button').disabled = true;
            
            setTimeout(() => {
                alert(`${currencyName}Î°ú ${amount}Ïõê Í≤∞Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!`);
                
                // Ìôà ÌôîÎ©¥ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                switchScreen('home-screen');
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                document.querySelector('[data-screen="home-screen"]').classList.add('active');
                
                // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
                document.getElementById('paymentAmount').value = '';
                document.querySelector('.pay-button').textContent = 'Í≤∞Ï†úÌïòÍ∏∞';
                document.querySelector('.pay-button').disabled = false;
                
                // Îß§Ïû•Ï†ïÎ≥¥ Ïà®Í∏∞Í∏∞
                document.getElementById('merchantInfo').style.display = 'none';
                
                // QR Ïä§Ï∫î ÏãúÎÆ¨Î†àÏù¥ÏÖò (5Ï¥à ÌõÑ Îß§Ïû• Ï†ïÎ≥¥ ÌëúÏãú)
                setTimeout(() => {
                    if (document.getElementById('qr-screen').classList.contains('active')) {
                        document.getElementById('merchantInfo').style.display = 'block';
                    }
                }, 5000);
                
            }, 2000);
        }

        // QR Ïä§Ï∫î ÏãúÎÆ¨Î†àÏù¥ÏÖò - QR ÌôîÎ©¥ ÏßÑÏûÖ Ïãú ÏûêÎèôÏúºÎ°ú Îß§Ïû• Ï†ïÎ≥¥ ÌëúÏãú
        function simulateQRScan() {
            setTimeout(() => {
                if (document.getElementById('qr-screen').classList.contains('active')) {
                    document.getElementById('merchantInfo').style.display = 'block';
                }
            }, 3000); // 3Ï¥à ÌõÑ QR Ïä§Ï∫î ÏôÑÎ£å ÏãúÎÆ¨Î†àÏù¥ÏÖò
        }

                 // QR ÌôîÎ©¥ÏúºÎ°ú Ï†ÑÌôò Ïãú ÏãúÎÆ¨Î†àÏù¥ÏÖò ÏãúÏûë
         const originalSwitchScreen = switchScreen;
         switchScreen = function(screenId) {
             originalSwitchScreen(screenId);
             
             if (screenId === 'qr-screen') {
                 // Îß§Ïû• Ï†ïÎ≥¥ Ï¥àÍ∏∞Ìôî
                 document.getElementById('merchantInfo').style.display = 'none';
                 // QR Ïä§Ï∫î ÏãúÎÆ¨Î†àÏù¥ÏÖò ÏãúÏûë
                 simulateQRScan();
             }
         };

         // Ïó¨Ìñâ ÏßÄÎèÑ Í¥ÄÎ†® Í∏∞Îä•Îì§

         // ÏßÄÏó≠ Ï†ïÎ≥¥ Îç∞Ïù¥ÌÑ∞
         const regionData = {
             seoul: { name: 'ÏÑúÏö∏ÌäπÎ≥ÑÏãú', unlocked: true, colored: true },
             gyeonggi: { name: 'Í≤ΩÍ∏∞ÎèÑ', unlocked: true, colored: true },
             busan: { name: 'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú', unlocked: true, colored: true },
             gangwon: { name: 'Í∞ïÏõêÎèÑ', unlocked: true, colored: true },
             daegu: { name: 'ÎåÄÍµ¨Í¥ëÏó≠Ïãú', unlocked: true, colored: false },
             incheon: { name: 'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú', unlocked: true, colored: false },
             gwangju: { name: 'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú', unlocked: true, colored: false },
             daejeon: { name: 'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú', unlocked: true, colored: false },
             ulsan: { name: 'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú', unlocked: true, colored: false },
             chungbuk: { name: 'Ï∂©Ï≤≠Î∂ÅÎèÑ', unlocked: false, colored: false },
             chungnam: { name: 'Ï∂©Ï≤≠ÎÇ®ÎèÑ', unlocked: false, colored: false },
             jeonbuk: { name: 'Ï†ÑÎùºÎ∂ÅÎèÑ', unlocked: false, colored: false },
             jeonnam: { name: 'Ï†ÑÎùºÎÇ®ÎèÑ', unlocked: false, colored: false },
             gyeongbuk: { name: 'Í≤ΩÏÉÅÎ∂ÅÎèÑ', unlocked: false, colored: false },
             gyeongnam: { name: 'Í≤ΩÏÉÅÎÇ®ÎèÑ', unlocked: false, colored: false },
             jeju: { name: 'Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ', unlocked: false, colored: false },
             sejong: { name: 'ÏÑ∏Ï¢ÖÌäπÎ≥ÑÏûêÏπòÏãú', unlocked: false, colored: false }
         };

         // ÏßÄÏó≠ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
         document.querySelectorAll('.region-area').forEach(region => {
             region.addEventListener('click', function() {
                 const regionId = this.getAttribute('data-region');
                 const regionInfo = regionData[regionId];
                 
                 if (!regionInfo.unlocked) {
                     // Ïû†Í∏¥ ÏßÄÏó≠
                     showLockedModal(regionInfo.name);
                 } else if (!regionInfo.colored) {
                     // ÏÉâÏπ† Í∞ÄÎä•Ìïú ÏßÄÏó≠
                     showPaintModal(regionInfo.name, regionId);
                 } else {
                     // Ïù¥ÎØ∏ ÏÉâÏπ†Îêú ÏßÄÏó≠
                     showTravelRecord(regionInfo.name, regionId);
                 }
             });
         });

         // ÏÉâÏπ†ÌïòÍ∏∞ Î™®Îã¨ ÌëúÏãú
         function showPaintModal(regionName, regionId) {
             document.getElementById('modalRegionName').textContent = regionName + ' ÏÉâÏπ†ÌïòÍ∏∞';
             document.getElementById('paintModal').style.display = 'flex';
             document.body.style.overflow = 'hidden';
             
             // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏßÄÏó≠ Ï†ÄÏû•
             window.currentRegion = regionId;
         }

         // Ïû†Í∏¥ ÏßÄÏó≠ Î™®Îã¨ ÌëúÏãú
         function showLockedModal(regionName) {
             document.getElementById('lockedRegionName').textContent = regionName + ' Ïû†Í∏à Ìï¥Ï†ú ÌïÑÏöî';
             document.getElementById('lockedModal').style.display = 'flex';
             document.body.style.overflow = 'hidden';
         }

         // Ïó¨Ìñâ Í∏∞Î°ù Î≥¥Í∏∞ (Ïù¥ÎØ∏ ÏÉâÏπ†Îêú ÏßÄÏó≠)
         function showTravelRecord(regionName, regionId) {
             alert(`${regionName}Ïùò Ïó¨Ìñâ Í∏∞Î°ùÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§!\n\n(Ïó¨Í∏∞Ïóê ÏÉÅÏÑ∏ Ïó¨Ìñâ Í∏∞Î°ù ÌéòÏù¥ÏßÄÎ•º Íµ¨ÌòÑÌï† Ïàò ÏûàÏäµÎãàÎã§)`);
         }

         // Î™®Îã¨ Îã´Í∏∞ Ìï®ÏàòÎì§
         function closePaintModal() {
             document.getElementById('paintModal').style.display = 'none';
             document.body.style.overflow = 'auto';
             
             // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
             document.getElementById('travelTitle').value = '';
             document.getElementById('travelContent').value = '';
             document.getElementById('travelTags').value = '';
         }

         function closeLockedModal() {
             document.getElementById('lockedModal').style.display = 'none';
             document.body.style.overflow = 'auto';
         }

         // ÏÇ¨ÏßÑ Ï∂îÍ∞Ä Ìï®Ïàò
         function addPhoto() {
             alert('ÏÇ¨ÏßÑ ÏóÖÎ°úÎìú Í∏∞Îä•ÏûÖÎãàÎã§!\n\nÏã§Ï†ú Íµ¨ÌòÑ Ïãú Ïπ¥Î©îÎùº/Í∞§Îü¨Î¶¨ Ï†ëÍ∑ºÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.');
         }

         // Ïó¨Ìñâ Í∏∞Î°ù Ï†ÄÏû• Î∞è ÏÉâÏπ†ÌïòÍ∏∞
         function saveTravel() {
             const title = document.getElementById('travelTitle').value;
             const content = document.getElementById('travelContent').value;
             const tags = document.getElementById('travelTags').value;
             
             if (!title.trim() || !content.trim()) {
                 alert('Ïó¨Ìñâ Ï†úÎ™©Í≥º ÎÇ¥Ïö©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                 return;
             }
             
             // ÏßÄÏó≠ ÏÉâÏπ†ÌïòÍ∏∞
             const regionElement = document.querySelector(`[data-region="${window.currentRegion}"]`);
             regionElement.classList.remove('unlocked');
             regionElement.classList.add('colored');
             
             // Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
             regionData[window.currentRegion].colored = true;
             
             // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
             updateStats();
             
             // ÏÑ±Í≥µ Î©îÏãúÏßÄ
             alert(`üéâ ${regionData[window.currentRegion].name} ÏßÄÏó≠Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉâÏπ†ÎêòÏóàÏäµÎãàÎã§!\n\nÏó¨Ìñâ Í∏∞Î°ùÏù¥ Ï†ÄÏû•ÎêòÏóàÏñ¥Ïöî.`);
             
             // Î™®Îã¨ Îã´Í∏∞
             closePaintModal();
         }

         // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
         function updateStats() {
             const coloredCount = Object.values(regionData).filter(region => region.colored).length;
             const unlockedCount = Object.values(regionData).filter(region => region.unlocked && !region.colored).length;
             const totalCount = Object.keys(regionData).length;
             
             document.querySelector('.stat-item:nth-child(1) .stat-number').textContent = coloredCount;
             document.querySelector('.stat-item:nth-child(2) .stat-number').textContent = unlockedCount;
             document.querySelector('.stat-item:nth-child(3) .stat-number').textContent = totalCount;
         }

         // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
         document.getElementById('paintModal').addEventListener('click', function(e) {
             if (e.target === this) {
                 closePaintModal();
             }
         });

         document.getElementById('lockedModal').addEventListener('click', function(e) {
             if (e.target === this) {
                 closeLockedModal();
             }
         });

         // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÌÜµÍ≥Ñ Ï¥àÍ∏∞Ìôî
         window.addEventListener('load', function() {
             updateStats();
         });

         // ÏÉàÎ°úÏö¥ Í∏∞Îä•Îì§

         // ÎßàÏù¥ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
         function switchToMyPage() {
             switchScreen('my-screen');
         }

         // AI Ï±óÎ¥á Í∏∞Îä•
         function sendChatMessage() {
             const input = document.getElementById('aiChatInput');
             const message = input.value.trim();
             
             if (!message) return;
             
             // Î©îÏãúÏßÄ Ï∂îÍ∞Ä (Í∞ÑÎã®Ìïú ÏãúÎÆ¨Î†àÏù¥ÏÖò)
             addChatMessage(message);
             input.value = '';
             
             // AI ÏùëÎãµ ÏãúÎÆ¨Î†àÏù¥ÏÖò
             setTimeout(() => {
                 addAIResponse(message);
             }, 1000);
         }

         function addChatMessage(message) {
             const chatHistory = document.getElementById('chatHistory');
             const newChat = document.createElement('div');
             newChat.className = 'activity-item chat-item';
             newChat.setAttribute('data-status', 'pending');
             
             const region = getRegionFromMessage(message);
             newChat.innerHTML = `
                 <div class="activity-icon">${region.icon}</div>
                 <div class="activity-info">
                     <div class="activity-title">${region.title}</div>
                     <div class="activity-desc">${region.desc}</div>
                 </div>
                 <div style="color: #ff6b6b; font-size: 12px; display: flex; flex-direction: column; align-items: center;">
                     <span>Î∞©Î¨∏ÎåÄÍ∏∞</span>
                     <button class="visit-btn" onclick="visitPlace('${region.code}')">Î∞©Î¨∏Ïù∏Ï¶ù</button>
                 </div>
             `;
             
             chatHistory.insertBefore(newChat, chatHistory.firstChild);
         }

         function addAIResponse(message) {
             // AI ÏùëÎãµ Ï≤òÎ¶¨ Î°úÏßÅ
             console.log('AI ÏùëÎãµ:', message);
         }

         function getRegionFromMessage(message) {
             if (message.includes('ÏÑúÏö∏')) {
                 return { icon: 'üèôÔ∏è', title: 'ÏÑúÏö∏ ÎßõÏßë ÌÉêÎ∞©', desc: 'Î™ÖÎèô, Í∞ïÎÇ® Îì± Ï∂îÏ≤ú ÎßõÏßë', code: 'seoul' };
             } else if (message.includes('Î∂ÄÏÇ∞')) {
                 return { icon: 'üåä', title: 'Î∂ÄÏÇ∞ Ìï¥Î≥Ä Ïó¨Ìñâ', desc: 'Ìï¥Ïö¥ÎåÄ, Í¥ëÏïàÎ¶¨ Îì± Ï∂îÏ≤ú', code: 'busan' };
             } else if (message.includes('Ï†úÏ£º')) {
                 return { icon: 'üèùÔ∏è', title: 'Ï†úÏ£ºÎèÑ ÏûêÏó∞ ÌÉêÎ∞©', desc: 'ÌïúÎùºÏÇ∞, ÏÑ±ÏÇ∞ÏùºÏ∂úÎ¥â Îì±', code: 'jeju' };
             } else {
                 return { icon: 'üéØ', title: 'ÎßûÏ∂§ Ïó¨Ìñâ Ï∂îÏ≤ú', desc: 'AIÍ∞Ä Î∂ÑÏÑùÌïú ÏµúÏ†Å ÏΩîÏä§', code: 'custom' };
             }
         }

         function quickQuestion(question) {
             document.getElementById('aiChatInput').value = question;
             sendChatMessage();
         }

         function visitPlace(place) {
             // Î∞©Î¨∏ Ïù∏Ï¶ù ÏãúÎÆ¨Î†àÏù¥ÏÖò
             const modal = document.createElement('div');
             modal.className = 'modal';
             modal.style.display = 'flex';
             modal.innerHTML = `
                 <div class="modal-content">
                     <div class="modal-icon">üìç</div>
                     <div class="modal-title">Î∞©Î¨∏ Ïù∏Ï¶ù ÏôÑÎ£å!</div>
                     <div class="modal-desc">${place} ÏßÄÏó≠ Î∞©Î¨∏Ïù¥ Ïù∏Ï¶ùÎêòÏóàÏäµÎãàÎã§.<br/>+500PÍ∞Ä Ï†ÅÎ¶ΩÎêòÏóàÏäµÎãàÎã§.</div>
                     <button class="modal-btn" onclick="this.parentElement.parentElement.remove()">ÌôïÏù∏</button>
                 </div>
             `;
             document.body.appendChild(modal);
             
             // Ìè¨Ïù∏Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
             updateAIPoints(500);
         }

         function updateAIPoints(points) {
             const currentPoints = document.querySelector('#ai-screen .balance-amount');
             if (currentPoints) {
                 const current = parseInt(currentPoints.textContent.replace(/[^0-9]/g, '')) || 2500;
                 currentPoints.textContent = `+${(current + points).toLocaleString()}P`;
             }
         }

         function clearChatHistory() {
             const chatHistory = document.getElementById('chatHistory');
             const userChats = chatHistory.querySelectorAll('.chat-item[data-status="pending"]');
             userChats.forEach(chat => chat.remove());
         }

         function toggleMapFilter() {
             // ÌïÑÌÑ∞ ÌÜ†Í∏Ä Í∏∞Îä•
             console.log('ÏßÄÎèÑ ÌïÑÌÑ∞ ÌÜ†Í∏Ä');
         }

         // ÏóîÌÑ∞ÌÇ§ Ïù¥Î≤§Ìä∏
         document.addEventListener('DOMContentLoaded', function() {
             const aiInput = document.getElementById('aiChatInput');
             if (aiInput) {
                 aiInput.addEventListener('keypress', function(e) {
                     if (e.key === 'Enter') {
                         sendChatMessage();
                     }
                 });
             }
         });
    </script>
</body>
</html> 
